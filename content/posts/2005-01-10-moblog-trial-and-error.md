---
id: 96
title: moblog試行錯誤
date: 2005-01-10 00:00:00 +0900
layout: post
permalink: /2005/01/10/moblog-trial-and-error/
categories:
  - Blog
tags:
  - MT
  - ブログ
---
moblogのページをつくるのに試行錯誤。大変すぎた。いやーない頭でいろいろ考えた。
  
やりたいことは多分２つだったと思うが、
  
１．画像のサムネイルをスクエアにしたい
  
２．ページ分割
  
<!--more-->

まず１．が大問題。ローカルでスクエアに画像編集してからアップするのはmoblogでは不可能だから、画像を自動変換して、サムネイルを自動的につくれるようにするのが全然どうやったら良いか分からない。
  
で、Photostackというweb上で写真を整理するスクリプト知り、それを使うことにした。ディレクトリ内にある画像すべてを表示するような仕組みで、これでもいいやと妥協しそうになる。表示するページもテンプレートで簡単に編集できるじゃーん、と。
  
いや、待て。もっといい方法があるはずだ、せっかくMT使っているのだからもうちょっと綺麗なやりたいなー、と少し欲を出してみたらPhotostackのテンプレートで出力される内容をMTのテンプレートの中に組み込まなきゃいけないことに気づき、様々やったが、いまいちうまくいかない。
  
エントリーを作る段階でHTMLをいじっちゃえば簡単だと思ったけど、これもメールからエントリーを作ってくれるスクリプトであるmail-entry.cgiをどうやって設定すれば良いか分からずあえなく挫折。
  
最終的に、MTRegexという正規表現プラグインをつかって、エントリー本文のHTMLをあとからいじって、画像のURLをPhotostackのつくるサムネイルに指定することに成功。

こうなってしまえば２．は簡単で、今度はMTPaginateというプラグインでページ分割。

いや、結構書いたけど、実はまだまだ詳細を割愛しておりますよ。
  
もっと簡単にできるのだろうか？
